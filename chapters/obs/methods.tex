\subsubsection{Clinical Comparison}
The clinical comparison was performed by sending questionnaires to clinicians with a relationship with obstetrics in order to assess 10 patients, with only access to the variables used by the model and to answer three questions for each. The first was to give a score from 1-10 of how likely that patient would give birth through C-section, then to select the feature/variable that most influenced the decision and which feature they would require to make a better assessment. We sent the questionnaire to 20 people and obtained 6 answers, totaling 60 patient assessments. For these 10 patients, we also predicted the delivery type using our model in order to compare it with the cliniciansâ€™ answers. These patients were new and were not seen by the model during the training phase.

\subsubsection{Analysis}

%We wrote all of the code in Python 3.9.7 with the usage of the \textit{scikit-learn} library \cite{scikit-learn}. All null representations were standardized. Data was prepossessed with the removal of features with high missing rates ($>$ 90\% overall). All missing value representations were standardized. The imputation process was done using the \ac{knn} imputation method (for continuous variables) or a new category (NULLIMP) for categorical variables. 
%For this purpose, the Birth Type was reduced to binary. All assisted birth were merged into vaginal birth and \ac{cs} remained as the other class. Procedures and diagnosis were also used and were encoded as binary features, we took the time to analyse each one of them in order to avoid leakage since there were procedures obviously related to \acp{cs} and vaginal deliveries.
%Feature creation was done through the free-text variable relating to the medication prescribed. Features were collected from it and converted into \ac{atc} Classification Group level 4, which stands for chemical subgroups. We also created some new features from data in the dataset, namely new categories related to the labour and condition of the baby.
%Also, a few data quality issues were addressed, like impossible values that were transformed into null. In this category, the main issues were \ac{bmi}/Weight and gestational age.
%Finally, only a few columns were selected. We used a mixture of surveying the literature and the feature with greater correlation with the outcome.
%The models tested were Logistic Regression, Decision Tree, Random Forest, 3 different Boosting methods (as implemented by \ac{xgboost}, \ac{lightgbm} and \textit{scikit-learn}) and a linear model based on Stochastic Gradient Descent.
%The evaluation was done with repeated stratified cross-validation with 10 splits and 2 repetitions.   
%The API for serving the prediction model was developed with FastAPI.

%Finally, a clinical evaluation was carried out with questionnaires sent to several obstetrics specialists in order to assess the validity and possible impact of the model.



We obtained full approval from the ethics committee before commencing the study, as detailed in the 'Ethics Approval and Consent to Participate' subsection. The need for informed consent was waived by the ethics committee. All null representations were standardized. Data were prepossessed by removing features with high missing rates (>90\% overall). The imputation process was performed using the KNN imputation method (for continuous variables) or a new category (NULLIMP) for categorical variables. Weight was categorized into percentiles defined specifically for Portuguese babies \cite{sousa-santosDevelopmentBirthweightStandard2016}. For the purpose of this study, the Birth Type was reduced to binary. All assisted birth were merged into vaginal birth and C-Section remained as the other class. Procedures and diagnoses were also used and were encoded as binary features, and we took the time to analyze each one of them in order to avoid leakage because there were procedures obviously related to C-sections and vaginal deliveries. Feature creation was performed through the free-text variable related to the prescribed medication. Medicine names were collected from it and converted into Anatomical Therapeutic Chemical (ATC) Classification Group level 4, which represents chemical subgroups. We also created some new features from data in the dataset, namely new categories related to the labor and condition of the baby. In addition, data quality issues were addressed, such as impossible values that were transformed into null values. The main variables affected by data quality were BMI/Weight and gestational age. The data were split into training and test sets in a 0.75:0.25 manner. From the overall datasets which comprised over 200 columns, only a few columns were selected (please see table 1 in the results section). We used a mixture of features selected by surveying the literature \cite{irwindaMaternalFetalCharacteristics2021,deramonfernandezPredictionModeDelivery2022,parveenAnalysisCesareanSections2021} and features with a high correlation with the outcome. The tested models were Logistic Regression, Decision Tree, Random Forest, three different Boosting methods (as implemented by XGBoost, LightGBM and scikit learn) and a linear model based on Stochastic Gradient Descent. The evaluation was performed with repeated stratified cross-validation with 10 splits and 2 repetitions, with two full cycles of dividing the training set into 10 equal parts and using 9 as the training set and 1 as the validation set. This rendered table 3. The API for serving the prediction model was developed using FastAPI. We wrote all the code in Python 3.9.7.